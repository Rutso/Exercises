CREATE DATABASE IF NOT EXISTS Hospital;
CREATE TABLE IF NOT EXISTS Hospital.specialities (speciality_id INT AUTO_INCREMENT, speciality_name VARCHAR(45) NOT NULL, CONSTRAINT speciality_id_PK PRIMARY KEY(speciality_id));
CREATE TABLE IF NOT EXISTS Hospital.departments (department_id INT AUTO_INCREMENT, department_name VARCHAR(45) NOT NULL, CONSTRAINT department_id_PK PRIMARY KEY(department_id));
CREATE TABLE IF NOT EXISTS Hospital.doctors (doctor_id INT AUTO_INCREMENT, first_name VARCHAR(45) NOT NULL, last_name VARCHAR(45) NOT NULL, phone_number VARCHAR(45) NOT NULL, speciality_id INT, CONSTRAINT doctor_id_PK PRIMARY KEY(doctor_id), CONSTRAINT speciality_id_FK FOREIGN KEY(speciality_id) REFERENCES Hospital.specialities(speciality_id));
CREATE TABLE IF NOT EXISTS Hospital.nurses (nurse_id INT AUTO_INCREMENT, first_name VARCHAR(45) NOT NULL, last_name VARCHAR(45) NOT NULL, phone_number VARCHAR(45) NOT NULL, department_id INT, CONSTRAINT nurse_id_PK PRIMARY KEY(nurse_id), CONSTRAINT department_id_FK FOREIGN KEY(department_id) REFERENCES Hospital.departments(department_id));
CREATE TABLE IF NOT EXISTS Hospital.patients (patient_id INT AUTO_INCREMENT, first_name VARCHAR(45) NOT NULL, last_name VARCHAR(45) NOT NULL, phone_number VARCHAR(45) NOT NULL, age INT NOT NULL, sex VARCHAR(45), CONSTRAINT patient_id_PK PRIMARY KEY(patient_id), UNIQUE KEY full_name_UK (first_name, last_name));
CREATE TABLE IF NOT EXISTS Hospital.cases (case_id INT AUTO_INCREMENT, patient_id INT, doctor_id INT, department_id INT, date_accepted VARCHAR(45) NOT NULL, date_left VARCHAR(45), CONSTRAINT case_id_PK PRIMARY KEY(case_id), CONSTRAINT case_department_id_FK FOREIGN KEY(department_id) REFERENCES Hospital.departments(department_id), CONSTRAINT case_doctor_id_FK FOREIGN KEY(doctor_id) REFERENCES Hospital.doctors(doctor_id), CONSTRAINT case_patient_id_FK FOREIGN KEY(patient_id) REFERENCES Hospital.patients(patient_id));